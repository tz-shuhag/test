function swapCell(e,t){let a=e.querySelector(".swaptarget"),o=e.querySelector("label"),s=JSON.parse(e.getAttribute("data-swap")),l=e.getAttribute("data-id"),n=parseInt(localStorage.getItem(l));t?(a.setAttribute("name",s[t].n),o.textContent=s[t].l):n<s.length-1?(a.setAttribute("name",s[n+1].n),o.textContent=s[n+1].l,localStorage.setItem(l,n+1)):(a.setAttribute("name",s[0].n),o.textContent=s[0].l,localStorage.setItem(l,0))}function getCodeMemory(){let e=document.querySelectorAll(".swapper");for(let t=0;t<e.length;t++){let a=e[t].getAttribute("data-id"),o=localStorage.getItem(a)||0;e[t].setAttribute("data-value",o),swapCell(e[t],o)}}function copyString(e,t){navigator.clipboard.writeText(e).then(()=>{t.classList.add("success"),t.classList.remove("failure"),setTimeout(()=>{t.classList.remove("success")},750)}).catch(e=>{t.classList.add("failure"),t.classList.remove("success"),setTimeout(()=>{t.classList.remove("failure")},750)})}function updateLabelPos(){let e=document.querySelectorAll("input[name]");for(let t=0;t<e.length;t++)""!==e[t].value?e[t].closest("i").classList.add("keepabove"):e[t].closest("i").classList.remove("keepabove")}document.querySelector("#generate").addEventListener("click",()=>{document.querySelector('form > input[type="submit"]').click()}),document.addEventListener("mousedown",e=>{0===e.button&&(e.target.closest(".swap")?window.mouseDownTarget=e.target.closest(".swapper").getAttribute("data-id"):window.mouseDownTarget="")}),document.addEventListener("mouseup",e=>{0===e.button&&e.target.closest(".swap")&&window.mouseDownTarget===e.target.closest(".swapper").getAttribute("data-id")&&swapCell(e.target.closest(".swapper"))}),getCodeMemory(),document.querySelector("#share").addEventListener("click",()=>{let e=document.querySelectorAll("input[name]"),t=document.querySelector('head > link[rel="canonical"]').getAttribute("href")+"?";for(let a=0;a<e.length;a++)t+=e[a].getAttribute("name")+"="+encodeURIComponent(e[a].value),a!==e.length-1&&(t+="&");copyString(t,document.querySelector("#share"))}),updateLabelPos(),document.addEventListener("keydown",updateLabelPos),document.addEventListener("input",updateLabelPos),document.addEventListener("click",updateLabelPos);